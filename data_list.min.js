(function(y){y.fn.dataList=function(t){var r=y.extend({data:[],inputExtendClass:[],itemContainerSelector:null,itemExtendClass:[],itemRemoveIcon:"&#10006;",name:"",optionExtendClass:[],placeholder:"",selectedValue:[],wrapExtendClass:[]},t);const o="data-list__wrap";const i="data-list__input";const l="data-list__options";const s="data-list__item";const e=()=>{if(!Array.isArray(r.data)){throw new Error('"data" must be a array')}for(const t of r.data){if(t===null||typeof t!=="object"||!t.hasOwnProperty("value")||!t.hasOwnProperty("text")){throw new Error('"data element" must be an object that has 2 properties value and text')}}if(!Array.isArray(r.inputExtendClass)){throw new Error('"inputClass" must be a array')}for(const e in r.inputExtendClass){if(e.trim()===i){throw new Error(`"inputClass" can not be ${i}`)}}if(!Array.isArray(r.itemExtendClass)){throw new Error('"itemClass" must be a array')}for(const e in r.itemExtendClass){if(e.trim()===s){throw new Error(`"itemClass" can not be ${s}`)}}if(!Array.isArray(r.optionExtendClass)){throw new Error('"optionClass" must be a array')}for(const e in r.optionExtendClass){if(e.trim()===l){throw new Error(`"optionClass" can not be ${l}`)}}if(!Array.isArray(r.wrapExtendClass)){throw new Error('"wrapClass" must be a array')}for(const e in r.wrapExtendClass){if(e.trim()===o){throw new Error(`"wrapClass" can not be ${o}`)}}if(!Array.isArray(r.selectedValue)){throw new Error('"selectedValue" must be a array')}};var c,a,d,u,n;const f=()=>{c=this.find(`.${o}`);a=this.find(`.${i}`);d=this.find(`.${l}`);u=this.find(`.${l} li`);n=this.find(`.${s}`)};const p=()=>{let t=o;if(r.wrapExtendClass.length>0){t=t+" "+r.wrapExtendClass.join(" ")}let e=i;if(r.inputExtendClass.length>0){e=e+" "+r.inputExtendClass.join(" ")}let n=l;if(r.optionExtendClass.length>0){n=n+" "+r.optionExtendClass.join(" ")}this.empty().html(`<div class="${t}">
                        <input type="text" class="${e}"
                            placeholder="${r.placeholder}" autocomplete="off">
                        <ul class="${n}"></ul>
                    </div>`);f();if(r.selectedValue.length>0){for(const a of r.data){for(const s of r.selectedValue){if(s==a.value){m(a.value,a.text)}}}}f()};const m=(t,e)=>{let n=s;if(r.itemExtendClass.length>0){n=n+" "+r.itemExtendClass.join(" ")}const a=`
                <span class="${n}" data-value="${t}">
                    ${e}
                    <input type="text" name="${r.name}" value="${t}" style="display: none;">
                    <span class="close"
                        onclick="this.closest('.${s}').remove()">${r.itemRemoveIcon}</span>
                </span>
            `;y(a).insertBefore(r.itemContainerSelector===null?c:y(r.itemContainerSelector))};const h=()=>{let t=a.val().trim().toLowerCase();if(t===""){return r.data}const e=[];for(const n of r.data){if(n.text.toLowerCase().includes(t)){e.push(n)}}return e};const w=()=>{d.empty();const t=h();let e="";for(const n of t){e+=`<li data-value="${n.value}">${n.text}</li>`}d.html(e);f();u.off("click").on("click",function(){const t=y(this).data("value");const e=y(this).text();if(y(`.${s}[data-value="${t}"]`).length>0){return}m(t,e);a.val("")})};var C={init:function(){e();p();a.on("focus",function(){w();d.css("display","block")}).on("blur",function(){setTimeout(()=>{d.css("display","none")},100)});a.on("keyup",function(){w()})}};C.init();return this}})(jQuery);