(function(x){x.fn.dataList=function(t){var r=x.extend({data:[],inputExtendClass:[],itemContainerSelector:null,itemExtendClass:[],itemRemoveIcon:"&#10006;",name:"",optionExtendClass:[],placeholder:"",selectedValue:[],wrapExtendClass:[]},t);const o="data-list__wrap";const i="data-list__input";const l="data-list__options";const s="data-list__item";const e=()=>{if(!Array.isArray(r.data)){throw new Error('"data" must be a array')}for(const t of r.data){if(t===null||typeof t!=="object"||!t.hasOwnProperty("value")||!t.hasOwnProperty("text")){throw new Error('"data element" must be an object that has 2 properties value and text')}}if(!Array.isArray(r.inputExtendClass)){throw new Error('"inputClass" must be a array')}for(const e in r.inputExtendClass){if(e.trim()===i){throw new Error(`"inputClass" can not be ${i}`)}}if(!Array.isArray(r.itemExtendClass)){throw new Error('"itemClass" must be a array')}for(const e in r.itemExtendClass){if(e.trim()===s){throw new Error(`"itemClass" can not be ${s}`)}}if(!Array.isArray(r.optionExtendClass)){throw new Error('"optionClass" must be a array')}for(const e in r.optionExtendClass){if(e.trim()===l){throw new Error(`"optionClass" can not be ${l}`)}}if(!Array.isArray(r.wrapExtendClass)){throw new Error('"wrapClass" must be a array')}for(const e in r.wrapExtendClass){if(e.trim()===o){throw new Error(`"wrapClass" can not be ${o}`)}}if(!Array.isArray(r.selectedValue)){throw new Error('"selectedValue" must be a array')}};const a=this;var c,d,f,p,n;const h=()=>{c=this.find(`.${o}`);d=this.find(`.${i}`);f=this.find(`.${l}`);p=this.find(`.${l} li`);n=this.find(`.${s}`)};const m=()=>{let t=o;if(r.wrapExtendClass.length>0){t=t+" "+r.wrapExtendClass.join(" ")}let e=i;if(r.inputExtendClass.length>0){e=e+" "+r.inputExtendClass.join(" ")}let n=l;if(r.optionExtendClass.length>0){n=n+" "+r.optionExtendClass.join(" ")}this.empty().html(`<div class="${t}">
                        <input type="text" class="${e}"
                            placeholder="${r.placeholder}" autocomplete="off">
                        <ul class="${n}"></ul>
                    </div>`);h();if(r.selectedValue.length>0){for(const a of r.data){for(const s of r.selectedValue){if(s==a.value){w(a.value,a.text)}}}}h()};const w=(t,e)=>{let n=s;if(r.itemExtendClass.length>0){n=n+" "+r.itemExtendClass.join(" ")}const a=`
                <span class="${n}" data-value="${t}">
                    ${e}
                    <input type="text" name="${r.name}" value="${t}" style="display: none;">
                    <span class="close"
                        onclick="this.closest('.${s}').remove()">${r.itemRemoveIcon}</span>
                </span>
            `;x(a).insertBefore(r.itemContainerSelector===null?c:x(r.itemContainerSelector))};const C=()=>{let t=d.val().trim().toLowerCase();if(t===""){return r.data}const e=[];for(const n of r.data){if(n.text.toLowerCase().includes(t)){e.push(n)}}return e};const y=()=>{f.empty();const t=C();let e="";for(const n of t){e+=`<li data-value="${n.value}">${n.text}</li>`}f.html(e);h();p.off("click").on("click",function(){const t=x(this).data("value");const e=x(this).text();if(a.find(`.${s}[data-value="${t}"]`).length>0){return}w(t,e);d.val("")});f.css("display","block");u};var E={init:function(){e();m();d.on("focus",function(){y()}).on("blur",function(){setTimeout(()=>{f.css("display","none")},100)});d.on("keyup",function(){y()})}};E.init();return this}})(jQuery);